(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,n){e.exports={list:"ImageGallery_list__3PzUv",image:"ImageGallery_image__2HH6V"}},12:function(e,t,n){e.exports={item:"ImageGalleryItem_item__1hc8Z",image:"ImageGalleryItem_image__7Op_X"}},13:function(e,t,n){e.exports={overlay:"Modal_overlay__2ryoB",modal:"Modal_modal__1zVy7"}},16:function(e,t,n){e.exports={container:"Container_container__l3s1t"}},17:function(e,t,n){e.exports={notify:"notification_notify__wGmwu"}},20:function(e,t,n){e.exports={spinner:"Loader_spinner__1XlG1"}},21:function(e,t,n){e.exports={button:"Button_button__A3dno"}},27:function(e,t,n){},5:function(e,t,n){e.exports={container:"Searchbar_container__2tboK",form:"Searchbar_form__1rWFM",button:"Searchbar_button__5gQ7x",reactIcons:"Searchbar_reactIcons__3U9Z3",label:"Searchbar_label__wS7we",input:"Searchbar_input__g-WNT"}},50:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(6),o=n.n(r),i=(n(26),n(27),n(4)),s=n(9),u=(n(15),n(16)),l=n.n(u),b=n(2),j=function(e){var t=e.children;return Object(b.jsx)("div",{className:l.a.container,children:t})},m=n(18),d=n(0),f=n(5),h=n.n(f),O=n(17),g=n.n(O),_=function(e){s.b.warn(e,{className:"".concat(g.a.notify)})},p=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1];return Object(b.jsx)("header",{className:h.a.container,children:Object(b.jsxs)("form",{className:h.a.form,onSubmit:function(e){e.preventDefault(),""===r.trim()&&_("Incorrect query! Please enter your request in the correct form"),t(r.trim()),o("")},children:[Object(b.jsx)("button",{className:h.a.button,type:"submit",children:Object(b.jsx)(d.b.Provider,{value:{className:"".concat(h.a.reactIcons)},children:Object(b.jsx)(m.a,{})})}),Object(b.jsx)("label",{className:h.a.label,children:Object(b.jsx)("input",{className:h.a.input,type:"text",name:"searchQuery",value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)}})})]})})},x=n(14),v=n(11),y=n.n(v),S="idle",w="pending",N="resolved",C="rejected",I=function(e,t){var n="".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("19018418-5cf416ff9d3b144c810bafa25","&image_type=photo&orientation=horizontal&per_page=12");return fetch(n).then((function(e){return e.json()}))},k=n(19),E=n.n(k),G=(n(49),n(20)),L=n.n(G),M=function(){return Object(b.jsx)("div",{className:L.a.spinner,children:Object(b.jsx)(E.a,{type:"Circles",color:"#a6c0fe",height:100,width:100})})},P=n(12),T=n.n(P),q=function(e){var t=e.image,n=e.alt,a=e.id;return Object(b.jsx)("li",{className:T.a.item,id:a,children:Object(b.jsx)("img",{className:T.a.image,src:t,alt:n,id:a})})},F=n(13),Q=n.n(F),U=document.querySelector("#root-modal"),z=function(e){var t=e.children,n=e.onClose;Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return Object(r.createPortal)(Object(b.jsx)("div",{className:Q.a.overlay,onClick:function(e){e.target===e.currentTarget&&n()},children:Object(b.jsx)("div",{className:Q.a.modal,children:t})}),U)},B=n(21),H=n.n(B),J=function(e){var t=e.page,n=e.onClick;return Object(b.jsx)("button",{className:H.a.button,type:"button",onClick:function(){n(t)},children:"Load more"})},R=function(e){var t=e.searchQuery,n=e.currentPage,c=e.modalState,r=e.onToggleModal,o=Object(a.useState)(null),s=Object(i.a)(o,2),u=s[0],l=s[1],j=Object(a.useState)(n),m=Object(i.a)(j,2),d=m[0],f=m[1],h=Object(a.useState)(S),O=Object(i.a)(h,2),g=O[0],p=O[1],v=Object(a.useState)(null),k=Object(i.a)(v,2),E=k[0],G=k[1],L=Object(a.useState)(null),P=Object(i.a)(L,2),T=P[0],F=P[1];Object(a.useEffect)((function(){if(t){p(w),f(n);var e=function(e){p(C),_(e)};return I(t,n).then((function(t){var n=t.hits;return 0===n.length?e("Sorry, the service cannot process your request\ud83d\ude28. Try again, please"):(l(n),f((function(e){return e+1})),void p(N))})).catch((function(t){e("Sorry, there are some technical problems \ud83d\ude31\ud83d\ude31\ud83d\ude31. Please, try again later")})),function(){return p(S)}}}),[n,t]);var Q=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return g===S||g===C?Object(b.jsx)(b.Fragment,{}):g===w?Object(b.jsx)(M,{}):g===N?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ul",{className:y.a.list,onClick:function(e){if("IMG"===e.target.nodeName){r();var t=u.find((function(t){return t.id.toString()===e.target.id}));G(t.largeImageURL),F(t.tags)}},children:u.map((function(e){var t=e.id,n=e.webformatURL,a=e.tags;return Object(b.jsx)(q,{image:n,alt:a,id:t},t)}))}),c&&Object(b.jsx)(z,{onClose:r,children:Object(b.jsx)("img",{className:y.a.image,src:E,alt:T})}),Object(b.jsx)(J,{page:d,onClick:function(){I(t,d).then((function(e){var t=e.hits;l([].concat(Object(x.a)(u),Object(x.a)(t))),f((function(e){return e+1})),p(N),Q()}))}})]}):void 0},V=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),o=Object(i.a)(r,2),u=o[0],l=(o[1],Object(a.useState)(!1)),m=Object(i.a)(l,2),d=m[0],f=m[1];return Object(b.jsxs)(j,{children:[Object(b.jsx)(p,{onSubmit:function(e){c(e.toLowerCase())}}),Object(b.jsx)(R,{searchQuery:n,currentPage:u,modalState:d,onToggleModal:function(){return f(!d)}}),Object(b.jsx)(s.a,{autoClose:4500,style:{width:"700px"}})]})};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(V,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.9543a71a.chunk.js.map