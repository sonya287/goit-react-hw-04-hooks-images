{"version":3,"sources":["components/ImageGallery/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.module.css","components/Container/Container.js","components/SearchBar/Searchbar.js","services/image-api.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js"],"names":["module","exports","Container","children","className","s","Searchbar","onSubmit","useState","query","setQuery","event","preventDefault","trim","toast","info","SearchForm","type","SearchFormButton","SearchFormButtonLabel","value","onChange","currentTarget","SearchFormInput","autoComplete","autoFocus","placeholder","axios","defaults","baseURL","fetchImages","a","searchQuery","page","get","then","data","hits","propTypes","PropTypes","string","isRequired","currentPage","number","ImageGalleryItem","webformatURL","largeImageURL","tags","onSetImgInfo","src","alt","ImageGalleryItemImage","onClick","ImageGallery","images","map","idx","Button","onLoadMore","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","target","override","css","Loader","size","color","Status","App","setSearchQuery","setPage","setImages","setLargeImageURL","imgTags","setImgTags","error","setError","status","setStatus","imageApi","length","prevState","scrollToBottom","scrollTo","top","documentElement","scrollHeight","behavior","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.92b5ff00.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3oRA9\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3gKRJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__o8vT2\",\"Modal\":\"Modal_Modal__W-uoW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3e668\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3-2av\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3-F_o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2QoMY\",\"SearchForm\":\"SearchBar_SearchForm__QGlRz\",\"SearchFormButton\":\"SearchBar_SearchFormButton__1omXQ\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__1oWuE\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3_W2t\"};","import PropTypes from 'prop-types';\r\nimport s from './Container.module.css';\r\n\r\nconst Container = ({ children }) => (\r\n  <div className={s.Container}>{children}</div>\r\n);\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Container;","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport s from './SearchBar.module.css';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleChangeQuery = ({ currentTarget }) => {\r\n    setQuery(currentTarget.value);\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (query.trim() === '') {\r\n      toast.info('Enter what you are looking for.');\r\n      return;\r\n    }\r\n\r\n    onSubmit(query);\r\n    setQuery('');\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          value={query}\r\n          onChange={handleChangeQuery}\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\n\r\nconst apiKey = '18638925-2c8019a9c3774592e4e395576';\r\n\r\nconst fetchImages = async ({ searchQuery = '', page = 1 }) => {\r\n  return await axios\r\n    .get(\r\n      `/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(({ data }) => data.hits);\r\n};\r\n\r\nfetchImages.propTypes = {\r\n  searchQuery: PropTypes.string.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default fetchImages;","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags = '',\r\n  onSetImgInfo,\r\n}) => {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={s.ImageGalleryItemImage}\r\n        onClick={() => {\r\n          onSetImgInfo({ largeImageURL, tags });\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string,\r\n  onSetImgInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from './ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onSetImgInfo }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(({ webformatURL, largeImageURL, tags }, idx) => (\r\n        <ImageGalleryItem\r\n          key={idx}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n          onSetImgInfo={onSetImgInfo}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onSetImgInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onLoadMore }) => {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={() => onLoadMore()}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, children }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  });\r\n\r\n  const handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={handleBackdropClick}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import { css } from '@emotion/core';\r\nimport RingLoader from 'react-spinners/RingLoader';\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n  border-color: red;\r\n`;\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className=\"sweet-loading\">\r\n      <RingLoader css={override} size={60} color={'#36d7b7'} />\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from 'react';\r\n\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Container from './components/Container';\r\nimport SearchBar from './components/SearchBar';\r\nimport imageApi from './services/image-api';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport Modal from './components/Modal';\r\nimport Loader from './components/Loader';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nexport default function App() {\r\n  const [searchQuery, setSearchQuery] = useState('landscape');\r\n  const [page, setPage] = useState(1);\r\n  const [images, setImages] = useState([]);\r\n  const [largeImageURL, setLargeImageURL] = useState(null);\r\n  const [imgTags, setImgTags] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n\r\n  useEffect(() => {\r\n    setStatus(Status.PENDING);\r\n    (async () => {\r\n      try {\r\n        const images = await imageApi({ searchQuery, page });\r\n\r\n        if (images.length < 1) {\r\n          toast.info('Nothing matched your search terms 😣');\r\n          setError(true);\r\n          setStatus(Status.REJECTED);\r\n          return;\r\n        }\r\n\r\n        setImages(prevState => [...prevState, ...images]);\r\n        setStatus(Status.RESOLVED);\r\n        if (page !== 1) {\r\n          scrollToBottom();\r\n        }\r\n      } catch (error) {\r\n        setError(error);\r\n        setStatus(Status.REJECTED);\r\n      }\r\n    })();\r\n  }, [searchQuery, page]);\r\n\r\n  const handleLoadMore = () => {\r\n    setPage(prevState => prevState + 1);\r\n  };\r\n\r\n  const handleSubmitForm = query => {\r\n    if (searchQuery === query) {\r\n      return;\r\n    }\r\n    setImages([]);\r\n    setPage(1);\r\n    setError(false);\r\n    setSearchQuery(query);\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setLargeImageURL('');\r\n  };\r\n\r\n  const setImgInfo = ({ largeImageURL, tags }) => {\r\n    setLargeImageURL(largeImageURL);\r\n    setImgTags(tags);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <SearchBar onSubmit={handleSubmitForm} />\r\n      {status === Status.REJECTED && error && (\r\n        <p>Whoops, something went wrong 😣</p>\r\n      )}\r\n      {status === Status.PENDING && <Loader />}\r\n      <ImageGallery images={images} onSetImgInfo={setImgInfo} />\r\n      {images.length > 0 && status === Status.RESOLVED && (\r\n        <Button onLoadMore={handleLoadMore} />\r\n      )}\r\n\r\n      {largeImageURL && (\r\n        <Modal onClose={toggleModal}>\r\n          <img src={largeImageURL} alt={imgTags} />\r\n        </Modal>\r\n      )}\r\n      <ToastContainer autoClose={3000} />\r\n    </Container>\r\n  );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);"],"sourceRoot":""}